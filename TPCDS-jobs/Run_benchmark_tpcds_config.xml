<?xml version='1.0' encoding='UTF-8'?>
<project>
  <actions/>
  <description></description>
  <keepDependencies>false</keepDependencies>
  <properties/>
  <scm class="hudson.scm.NullSCM"/>
  <canRoam>true</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <triggers>
    <jenkins.triggers.ReverseBuildTrigger>
      <spec></spec>
      <upstreamProjects>Run_setup_tpcds</upstreamProjects>
      <threshold>
        <name>SUCCESS</name>
        <ordinal>0</ordinal>
        <color>BLUE</color>
        <completeBuild>true</completeBuild>
      </threshold>
    </jenkins.triggers.ReverseBuildTrigger>
  </triggers>
  <concurrentBuild>false</concurrentBuild>
  <builders>
    <hudson.tasks.Shell>
      <command>#sourcing the variables from upstream job
db_name=`cat ~/tpcds_jenkins_var | grep ^db_name | cut -f2 -d&quot;=&quot;`
master_ip=`cat ~/tpcds_jenkins_var | grep ^master_ip | cut -f2 -d&quot;=&quot;`
queries=`cat ~/tpcds_jenkins_var | grep ^queries | cut -f2 -d&quot;=&quot;`
user=`cat ~/tpcds_jenkins_var | grep ^user | cut -f2 -d&quot;=&quot;`
driver_mem=`cat ~/tpcds_jenkins_var | grep ^driver_mem | cut -f2 -d&quot;=&quot;`
driver_cores=`cat ~/tpcds_jenkins_var | grep ^driver_cores | cut -f2 -d&quot;=&quot;`
num_executors=`cat ~/tpcds_jenkins_var | grep ^num_executors | cut -f2 -d&quot;=&quot;`
exec_core=`cat ~/tpcds_jenkins_var | grep ^exec_core | cut -f2 -d&quot;=&quot;`
exec_mem=`cat ~/tpcds_jenkins_var | grep ^exec_mem | cut -f2 -d&quot;=&quot;`
query_iteration=`cat ~/tpcds_jenkins_var | grep ^query_iteration | cut -f2 -d&quot;=&quot;`

home_dir=$(ssh $user@$master_ip &apos;pwd&apos;)

ssh $user@$master_ip /bin/bash &lt;&lt;EOT
source ~/tpcds_jenkins_var
cd $home_dir/tpcds-setup
#sed -i &apos;s|--driver-memory 22g|--driver-memory &apos;${driver_mem}&apos;|g&apos; ./run_single.sh
#sed -i &apos;s|--driver-cores 10|--driver-cores &apos;${driver_cores}&apos;|g&apos; ./run_single.sh

echo &apos;Running queries - &apos;$queries&apos;&apos;
./run_single.sh $queries $query_iteration $num_executors $exec_core $exec_mem $db_name
EOT
echo &quot;------------------------------------------------&quot;
ssh $user@$master_ip /bin/bash &lt;&lt;EOT
source ~/tpcds_jenkins_var
cd $home_dir/tpcds-setup
echo &apos;Running run_throughput.sh&apos;
./run_throughput.sh $num_executors $exec_core $exec_mem $db_name 200
EOT
echo &quot;------------------------------------------------&quot;
</command>
    </hudson.tasks.Shell>
  </builders>
  <publishers/>
  <buildWrappers/>
</project>