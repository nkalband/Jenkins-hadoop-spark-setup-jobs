<?xml version='1.0' encoding='UTF-8'?>
<project>
  <actions/>
  <description></description>
  <keepDependencies>false</keepDependencies>
  <properties>
    <hudson.model.ParametersDefinitionProperty>
      <parameterDefinitions>
        <hudson.model.TextParameterDefinition>
          <name>USER</name>
          <description></description>
          <defaultValue>testuser</defaultValue>
        </hudson.model.TextParameterDefinition>
        <hudson.model.TextParameterDefinition>
          <name>MASTER_IP</name>
          <description>Master ip details of cluster</description>
          <defaultValue>9.3.126.18</defaultValue>
        </hudson.model.TextParameterDefinition>
        <hudson.model.TextParameterDefinition>
          <name>SLAVE_IP</name>
          <description>Please enter hostnames or IP for desired slaves in format slave_hostname1,slave_hostname2</description>
          <defaultValue>9.3.126.18,9.3.126.245</defaultValue>
        </hudson.model.TextParameterDefinition>
      </parameterDefinitions>
    </hudson.model.ParametersDefinitionProperty>
  </properties>
  <scm class="hudson.scm.NullSCM"/>
  <canRoam>true</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <triggers/>
  <concurrentBuild>false</concurrentBuild>
  <builders>
    <hudson.tasks.Shell>
      <command>WORKDIR=$(ssh $USER@$MASTER_IP &quot;pwd&quot;)


ssh $USER@$MASTER_IP /bin/bash &lt;&lt;EOT
rm $WORKDIR/spark-*-SNAPSHOT-bin-hadoop-*.tgz
cp $WORKDIR/spark/spark-*-SNAPSHOT-bin-hadoop-*.tgz $WORKDIR
EOT

ssh $USER@$MASTER_IP /bin/bash &lt;&lt;EOT
echo &apos;Clonig repo Setup-spark-utils at location &apos;$WORKDIR&apos;&apos;
#git clone https://github.com/nkalband/Spark-cluster-utils.git
EOT

ssh $USER@$MASTER_IP /bin/bash &lt;&lt;EOT
cd Spark-cluster-utils
echo &quot;Running setup.sh to setup spark cluster&quot;
./spark_setup.sh $MASTER_IP $SLAVE_IP
EOT

</command>
    </hudson.tasks.Shell>
  </builders>
  <publishers>
    <hudson.tasks.BuildTrigger>
      <childProjects>Run_setup_tpcds</childProjects>
      <threshold>
        <name>SUCCESS</name>
        <ordinal>0</ordinal>
        <color>BLUE</color>
        <completeBuild>true</completeBuild>
      </threshold>
    </hudson.tasks.BuildTrigger>
  </publishers>
  <buildWrappers/>
</project>